/**
 * üîí CRITICAL IMPORTS - DO NOT MODIFY ORDER OR PATHS
 *
 * ‚ùå DO NOT CHANGE:
 * - Import order (tailwindcss must be first)
 * - Theme path: "../styles/theme.css" (NOT "./theme.css")
 * - Import syntax
 *
 * ‚ö†Ô∏è  CHANGING THESE WILL BREAK ALL STYLING
 */

@import "tailwindcss";
@import "../styles/theme.css";

@custom-variant dark (&:is(.dark *));

/* Base document sizing and immediate dark-aware fallback colors */
html,
body {
  height: 100%;
  overflow-x: hidden;
}

/* Custom scrollbar styling for better UX */
* {
  scrollbar-width: thin;
  scrollbar-color: rgba(155, 155, 155, 0.3) transparent;
}

*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

*::-webkit-scrollbar-track {
  background: transparent;
}

*::-webkit-scrollbar-thumb {
  background-color: rgba(155, 155, 155, 0.3);
  border-radius: 3px;
  border: transparent;
}

*::-webkit-scrollbar-thumb:hover {
  background-color: rgba(155, 155, 155, 0.5);
}

.dark *::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
}

.dark *::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.3);
}

/* Fallback colors before token CSS finishes loading */
body {
  background: #0a0a0b;
  color: #eaeaea;
}

.dark body {
  background: #000;
  color: #fff;
}

@layer base {
  :root {
    --font-inter: "Inter";
  }
}

@theme {
  --font-sans:
    var(--font-inter), -apple-system, BlinkMacSystemFont, "SF Pro Text",
    "SF Pro Display", "Segoe UI", Roboto, Arial, sans-serif;

  /* Design System Colors */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  /* Border Radius Scale (4px base unit) */
  --radius-xs: 2px;
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-2xl: 16px;
  --radius-3xl: 24px;
  --radius-full: 9999px;

  /* Component-specific radius tokens */
  --radius-button: var(--radius-md);
  --radius-input: var(--radius-md);
  --radius-card: var(--radius-lg);
  --radius-modal: var(--radius-xl);
  --radius-badge: var(--radius-sm);
  --radius-avatar: var(--radius-md);
  --radius-tooltip: var(--radius-md);

  /* Border Width Scale */
  --border-0: 0;
  --border-1: 1px;
  --border-2: 2px;
  --border-4: 4px;
  --border-8: 8px;

  /* Typography Scale */
  --tracking-tighter: -0.02em;
  --tracking-tight: -0.01em;
  --tracking-normal: 0;
  --tracking-wide: 0.01em;
  --tracking-wider: 0.02em;

  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* Semantic token mappings */
  --color-btn-primary: var(--color-btn-primary-bg);
  --color-btn-primary-foreground: var(--color-btn-primary-fg);

  /* Border tokens for components */
  --color-border-button: var(--border-subtle);
  --color-border-input: var(--border-subtle);
  --color-border-card: var(--border-subtle);
  --color-border-focus: var(--interactive-focus);

  /* Spacing Scale (4px base unit for mathematical consistency) */
  --space-0: 0;
  --space-px: 1px;
  --space-0_5: 2px; /* 0.5 * 4px */
  --space-1: 4px; /* 1 * 4px - base unit */
  --space-1_5: 6px; /* 1.5 * 4px */
  --space-2: 8px; /* 2 * 4px */
  --space-2_5: 10px; /* 2.5 * 4px */
  --space-3: 12px; /* 3 * 4px */
  --space-3_5: 14px; /* 3.5 * 4px */
  --space-4: 16px; /* 4 * 4px */
  --space-5: 20px; /* 5 * 4px */
  --space-6: 24px; /* 6 * 4px */
  --space-7: 28px; /* 7 * 4px */
  --space-8: 32px; /* 8 * 4px */
  --space-9: 36px; /* 9 * 4px */
  --space-10: 40px; /* 10 * 4px */
  --space-12: 48px; /* 12 * 4px */
  --space-14: 56px; /* 14 * 4px */
  --space-16: 64px; /* 16 * 4px */
  --space-20: 80px; /* 20 * 4px */
  --space-24: 96px; /* 24 * 4px */
  --space-28: 112px; /* 28 * 4px */
  --space-32: 128px; /* 32 * 4px */

  /* Component-specific spacing tokens */
  --space-component-padding-xs: var(--space-2); /* 8px - tight padding */
  --space-component-padding-sm: var(--space-3); /* 12px - small padding */
  --space-component-padding-md: var(--space-4); /* 16px - medium padding */
  --space-component-padding-lg: var(--space-6); /* 24px - large padding */
  --space-component-padding-xl: var(--space-8); /* 32px - extra large padding */

  --space-component-gap-xs: var(--space-1); /* 4px - tight gap */
  --space-component-gap-sm: var(--space-2); /* 8px - small gap */
  --space-component-gap-md: var(--space-3); /* 12px - medium gap */
  --space-component-gap-lg: var(--space-4); /* 16px - large gap */
  --space-component-gap-xl: var(--space-6); /* 24px - extra large gap */

  /* Layout spacing tokens */
  --space-layout-section-xs: var(--space-8); /* 32px - tight sections */
  --space-layout-section-sm: var(--space-12); /* 48px - small sections */
  --space-layout-section-md: var(--space-16); /* 64px - medium sections */
  --space-layout-section-lg: var(--space-20); /* 80px - large sections */
  --space-layout-section-xl: var(--space-24); /* 96px - extra large sections */
}

@utility grid-bg {
  background-image:
    linear-gradient(rgba(0, 0, 0, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 0, 0, 0.02) 1px, transparent 1px);
  background-size: 50px 50px;
}

@utility grid-bg-dark {
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
  background-size: 50px 50px;
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* Standard border radius utilities */
@utility rounded-button {
  border-radius: var(--radius-button);
}

@utility rounded-input {
  border-radius: var(--radius-input);
}

@utility rounded-card {
  border-radius: var(--radius-card);
}

@utility rounded-modal {
  border-radius: var(--radius-modal);
}

@utility rounded-badge {
  border-radius: var(--radius-badge);
}

@utility rounded-avatar {
  border-radius: var(--radius-avatar);
}

@utility rounded-tooltip {
  border-radius: var(--radius-tooltip);
}

/* Standard border utilities */
@utility border-button {
  border: var(--border-1) solid var(--color-border-button);
}

@utility border-input {
  border: var(--border-1) solid var(--color-border-input);
}

@utility border-card {
  border: var(--border-1) solid var(--color-border-card);
}

/* Enhanced focus ring utility using design tokens */
@utility focus-ring {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  --tw-ring-color: var(--color-border-focus);
  --tw-ring-offset-color: var(--bg-base);
}

/* Focus ring with transparent offset for overlays */
@utility focus-ring-transparent-offset {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-transparent;
  --tw-ring-color: var(--color-border-focus);
}

@utility btn {
  @apply inline-flex items-center justify-center rounded-button text-sm font-medium transition-colors focus-ring disabled:opacity-50 disabled:pointer-events-none;
}

@utility btn-primary {
  background-color: var(--color-btn-primary-bg);
  color: var(--color-btn-primary-fg);
}

@utility bg-btn-primary {
  background-color: var(--color-btn-primary-bg);
}

@utility text-btn-primary-foreground {
  color: var(--color-btn-primary-fg);
}

@utility btn-secondary {
  @apply bg-surface-2 text-primary-token hover:bg-surface-3;
}

@utility btn-ghost {
  @apply hover:bg-surface-2;
}

@utility btn-sm {
  @apply h-8 px-3 text-xs;
}

@utility btn-md {
  @apply h-10 px-4 py-2;
}

@utility btn-lg {
  @apply h-12 px-8 text-base;
}

@utility text-accent {
  color: var(--color-accent);
}

/* Menu/Dropdown utilities */
@utility menu-background {
  background-color: rgb(var(--menu-background));
}

@utility menu-border {
  border-color: rgb(var(--menu-border));
}

@utility menu-shadow {
  box-shadow:
    0 10px 15px -3px rgb(var(--menu-shadow)),
    0 4px 6px -2px rgb(var(--menu-shadow));
}

@utility menu-item-hover {
  background-color: rgb(var(--menu-item-hover));
}

@utility menu-separator {
  border-color: rgb(var(--menu-separator));
}

/* Enhanced surface utilities */
@utility bg-surface-0 {
  background-color: var(--color-bg-surface-0);
}

@utility bg-surface-1 {
  background-color: var(--color-bg-surface-1);
}

@utility bg-surface-2 {
  background-color: var(--color-bg-surface-2);
}

@utility bg-surface-3 {
  background-color: var(--color-bg-surface-3);
}

@utility bg-surface-4 {
  background-color: var(--surface-4);
}

/* Legacy surface utilities (map to new system) */
@utility surface {
  background-color: var(--color-bg-surface-1);
}

@utility surface-hover {
  background-color: var(--color-bg-surface-2);
}

@utility surface-pressed {
  background-color: var(--color-bg-surface-3);
}

/* Text utilities */
@utility text-primary {
  color: var(--color-text-primary-token);
}

@utility text-secondary {
  color: var(--color-text-secondary-token);
}

@utility text-tertiary {
  color: var(--color-text-tertiary-token);
}

/* Dashboard token utilities for consistency */
@utility text-primary-token {
  color: var(--color-text-primary-token);
}

@utility text-secondary-token {
  color: var(--color-text-secondary-token);
}

@utility text-tertiary-token {
  color: var(--color-text-tertiary-token);
}

@utility text-destructive {
  color: #dc2626; /* red-600 */

  &:is(.dark *) {
    color: #f87171; /* red-400 */
  }
}

/* Interactive state utilities */
@utility interactive-hover {
  background-color: rgb(var(--interactive-hover));
}

@utility interactive-pressed {
  background-color: rgb(var(--interactive-pressed));
}

@utility focus-ring-themed {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
  --tw-ring-color: rgb(var(--focus-ring));
}

/* Menu animations */
@keyframes user-menu-enter {
  from {
    opacity: 0;
    transform: translateY(-4px) scale(0.99);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
  }
}

@layer base {
  /* Design System Tokens - Apple-level consistency with semantic roles */
  :root {
    /* Background hierarchy */
    --bg-base: hsl(0, 0%, 100%);
    --bg-elevated: hsl(220, 3%, 97%);
    --bg-overlay: hsl(220, 4%, 94%);

    /* Surface hierarchy (cards, panels, modals) */
    --surface-1: hsl(220, 3%, 97%);
    --surface-2: hsl(220, 4%, 94%);
    --surface-3: hsl(220, 5%, 86%);

    /* Border system */
    --border-subtle: hsl(220, 6%, 78%);
    --border-strong: hsl(220, 7%, 70%);
    --border-interactive: hsl(220, 8%, 62%);

    /* Text hierarchy */
    --text-primary: hsl(220, 13%, 9%);
    --text-secondary: hsl(220, 10%, 29%);
    --text-muted: hsl(220, 9%, 46%);
    --text-placeholder: hsl(220, 9%, 54%);
    --text-disabled: hsl(220, 8%, 62%);

    /* Interactive states */
    --interactive-hover: hsl(220, 4%, 94%);
    --interactive-active: hsl(220, 5%, 86%);
    --interactive-focus: hsl(220, 100%, 50%);

    /* Brand colors (color-agnostic approach) */
    --accent: hsl(220, 100%, 50%);
    --accent-foreground: hsl(0, 0%, 100%);

    /* Button system (Apple's approach - context determines color) */
    --btn-primary-bg: hsl(220, 13%, 9%); /* Black in light mode */
    --btn-primary-fg: hsl(0, 0%, 100%); /* White text */

    /* Legacy compatibility mappings */
    --color-bg-base: var(--bg-base);
    --color-bg-surface-0: var(--bg-elevated);
    --color-bg-surface-1: var(--surface-1);
    --color-bg-surface-2: var(--surface-2);
    --color-bg-surface-3: var(--surface-3);
    --color-border-subtle: var(--border-subtle);
    --color-border-default: var(--border-strong);
    --color-text-primary-token: var(--text-primary);
    --color-text-secondary-token: var(--text-secondary);
    --color-text-tertiary-token: var(--text-muted);
    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);
    --color-btn-primary-bg: var(--btn-primary-bg);
    --color-btn-primary-fg: var(--btn-primary-fg);

    /* Loading/skeleton colors */
    --color-skeleton-base: var(--surface-2);
    --color-skeleton-shimmer: var(--bg-base);

    /* Focus ring RGB triplet */
    --focus-ring: 59 130 246; /* blue-500 */
  }

  /* Dark mode - Linear-inspired sophistication with Apple-level polish */
  :root.dark {
    /* Background hierarchy - Linear-inspired depth and richness */
    --bg-base: hsl(220, 15%, 8%); /* Deeper, richer base for better contrast */
    --bg-elevated: hsl(220, 14%, 11%); /* Subtle elevation with warmth */
    --bg-overlay: hsl(220, 13%, 14%); /* Modal/overlay backgrounds with depth */

    /* Surface hierarchy - Enhanced contrast and sophistication */
    --surface-1: hsl(220, 14%, 11%); /* Primary surface with subtle warmth */
    --surface-2: hsl(220, 13%, 14%); /* Secondary surface for layering */
    --surface-3: hsl(220, 12%, 18%); /* Tertiary surface for complex UIs */
    --surface-4: hsl(220, 11%, 22%); /* Quaternary surface for maximum depth */

    /* Border system - Linear-inspired subtlety and precision */
    --border-subtle: hsl(
      220,
      12%,
      20%
    ); /* Very subtle borders that feel refined */
    --border-default: hsl(
      220,
      11%,
      24%
    ); /* Default border weight with contrast */
    --border-strong: hsl(220, 10%, 32%); /* Stronger borders for emphasis */
    --border-interactive: hsl(220, 15%, 40%); /* Interactive element borders */

    /* Text hierarchy - Perfect contrast ratios with Linear's precision */
    --text-primary: hsl(220, 5%, 98%); /* Pure white with subtle warmth */
    --text-secondary: hsl(
      220,
      8%,
      72%
    ); /* Secondary text with perfect readability */
    --text-muted: hsl(220, 9%, 58%); /* Muted text that remains accessible */
    --text-placeholder: hsl(
      220,
      10%,
      48%
    ); /* Placeholder text with proper contrast */
    --text-disabled: hsl(
      220,
      12%,
      32%
    ); /* Disabled text that's clearly distinct */

    /* Interactive states - Linear-style responsiveness and depth */
    --interactive-hover: hsl(
      220,
      13%,
      16%
    ); /* Subtle hover states that feel alive */
    --interactive-active: hsl(
      220,
      12%,
      20%
    ); /* Active/pressed states with feedback */
    --interactive-focus: hsl(
      220,
      100%,
      65%
    ); /* Focus indicators with accessibility */

    /* Enhanced elevation system for sophisticated depth */
    --elevation-1: 0 1px 2px 0 hsl(220, 15%, 4% / 0.08);
    --elevation-2: 0 2px 4px 0 hsl(220, 15%, 4% / 0.12);
    --elevation-3: 0 4px 8px 0 hsl(220, 15%, 4% / 0.16);
    --elevation-4: 0 8px 16px 0 hsl(220, 15%, 4% / 0.2);
    --elevation-5: 0 16px 32px 0 hsl(220, 15%, 4% / 0.24);

    /* Button system - Apple's approach with Linear polish */
    --btn-primary-bg: hsl(220, 5%, 98%); /* Crisp white buttons that pop */
    --btn-primary-fg: hsl(220, 15%, 8%); /* Dark text with perfect contrast */

    /* Glass effects for modern, sophisticated UI */
    --glass-subtle: hsla(220, 13%, 14%, 0.8); /* Subtle glass effect */
    --glass-medium: hsla(220, 13%, 14%, 0.9); /* Medium glass effect */
    --glass-strong: hsla(220, 13%, 14%, 0.95); /* Strong glass effect */

    /* Status colors optimized for dark mode accessibility */
    --status-success: hsl(
      142,
      70%,
      55%
    ); /* Success green with proper contrast */
    --status-warning: hsl(38, 85%, 60%); /* Warning amber that stands out */
    --status-error: hsl(0, 75%, 65%); /* Error red with accessibility */
    --status-info: hsl(220, 85%, 65%); /* Info blue that harmonizes */

    /* Loading/skeleton colors - Enhanced for sophisticated dark mode */
    --color-skeleton-base: var(--surface-2);
    --color-skeleton-shimmer: var(--surface-3);

    /* Focus ring with proper dark mode visibility and accessibility */
    --focus-ring: 96 165 250; /* blue-400 optimized for dark backgrounds */
  }

  body {
    background-color: var(--color-bg-base);
    color: var(--color-text-primary-token);
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }

  /* Typography Hierarchy - Apple-level consistency */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold text-primary-token;
    letter-spacing: var(--tracking-tight);
    line-height: var(--leading-tight);
  }

  /* Display typography for hero sections */
  h1 {
    font-size: 3rem; /* 48px */
    line-height: var(--leading-tight);
    letter-spacing: var(--tracking-tighter);
  }

  @media (min-width: 1024px) {
    h1 {
      font-size: 3.75rem; /* 60px */
    }
  }

  /* Primary headings */
  h2 {
    font-size: 1.875rem; /* 30px */
    line-height: var(--leading-snug);
    letter-spacing: var(--tracking-tight);
  }

  @media (min-width: 1024px) {
    h2 {
      font-size: 2.25rem; /* 36px */
    }
  }

  /* Section headings */
  h3 {
    font-size: 1.5rem; /* 24px */
    line-height: var(--leading-snug);
    letter-spacing: var(--tracking-normal);
  }

  @media (min-width: 1024px) {
    h3 {
      font-size: 1.875rem; /* 30px */
    }
  }

  /* Subsection headings */
  h4 {
    font-size: 1.25rem; /* 20px */
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-normal);
    font-weight: 600;
  }

  @media (min-width: 1024px) {
    h4 {
      font-size: 1.5rem; /* 24px */
    }
  }

  /* Component headings */
  h5 {
    font-size: 1.125rem; /* 18px */
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-normal);
    font-weight: 500;
  }

  @media (min-width: 1024px) {
    h5 {
      font-size: 1.25rem; /* 20px */
    }
  }

  /* Small headings */
  h6 {
    font-size: 1rem; /* 16px */
    line-height: var(--leading-normal);
    letter-spacing: var(--tracking-wide);
    font-weight: 500;
  }

  @media (min-width: 1024px) {
    h6 {
      font-size: 1.125rem; /* 18px */
    }
  }
}

/* Utility bridges for Linear-style tokens */
@utility bg-base {
  background-color: var(--color-bg-base);
}

/* Enhanced border utilities - Linear-inspired precision */
@utility border-subtle {
  border-color: var(--border-subtle);
}

@utility border-default {
  border-color: var(--border-default);
}

@utility border-strong {
  border-color: var(--border-strong);
}

@utility border-interactive {
  border-color: var(--border-interactive);
}

@utility text-accent-token {
  color: var(--color-accent);
}

@utility ring-accent {
  --tw-ring-color: var(--color-accent);
}

/* Semantic text color utilities */
@utility text-muted {
  color: var(--text-muted);
}

@utility text-disabled {
  color: var(--text-disabled);
}

/* Glass effect utilities for modern UI */
@utility bg-glass-subtle {
  background-color: var(--glass-subtle);
}

@utility bg-glass-medium {
  background-color: var(--glass-medium);
}

@utility bg-glass-strong {
  background-color: var(--glass-strong);
}

/* Status color utilities for badges and indicators */
@utility bg-status-success {
  background-color: var(--status-success);
}

@utility bg-status-warning {
  background-color: var(--status-warning);
}

@utility bg-status-error {
  background-color: var(--status-error);
}

@utility bg-status-info {
  background-color: var(--status-info);
}

/* Skeleton loading utilities */
@utility skeleton {
  background-color: var(--color-skeleton-base);
  background-image: linear-gradient(
    90deg,
    transparent,
    var(--color-skeleton-shimmer),
    transparent
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Apple-style keyframe animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes gentleBounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes breathe {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.02);
  }
}

/* Preview update animation */
@utility animate-shimmer {
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Micro-animations */
@utility card-hover {
  @apply transform transition-all duration-200 ease-out hover:-translate-y-1 hover:shadow-lg hover:shadow-gray-200/25 dark:hover:shadow-gray-900/25;
}

@utility input-focus-glow {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-1 focus-visible:shadow-lg transition-all duration-200;
}

@utility btn-press {
  @apply transform transition-transform duration-100 ease-out active:scale-95;
}

/* Error and Empty State Utilities - Apple-level polish */

/* Error state styling */
@utility error-input {
  @apply border-red-500 bg-red-50 dark:bg-red-950/10 text-red-900 dark:text-red-100;
  box-shadow: 0 0 0 3px rgb(239 68 68 / 0.1);
}

@utility error-text {
  @apply text-red-600 dark:text-red-400 text-sm;
}

@utility error-icon {
  @apply text-red-500 w-4 h-4;
}

@utility error-card {
  @apply border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-950/10;
}

/* Success state styling */
@utility success-input {
  @apply border-green-500 bg-green-50 dark:bg-green-950/10 text-green-900 dark:text-green-100;
  box-shadow: 0 0 0 3px rgb(34 197 94 / 0.1);
}

@utility success-text {
  @apply text-green-600 dark:text-green-400 text-sm;
}

@utility success-icon {
  @apply text-green-500 w-4 h-4;
}

@utility success-card {
  @apply border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/10;
}

/* Warning state styling */
@utility warning-input {
  @apply border-orange-500 bg-orange-50 dark:bg-orange-950/10 text-orange-900 dark:text-orange-100;
  box-shadow: 0 0 0 3px rgb(249 115 22 / 0.1);
}

@utility warning-text {
  @apply text-orange-600 dark:text-orange-400 text-sm;
}

@utility warning-icon {
  @apply text-orange-500 w-4 h-4;
}

@utility warning-card {
  @apply border-orange-200 dark:border-orange-800 bg-orange-50 dark:bg-orange-950/10;
}

/* Empty state styling */
@utility empty-state {
  @apply flex flex-col items-center justify-center gap-3 p-8 text-center;
  min-height: 200px;
}

@utility empty-state-icon {
  @apply w-12 h-12 text-gray-500 dark:text-gray-400 mb-2 opacity-60;
}

@utility empty-state-title {
  @apply text-lg font-medium text-gray-700 dark:text-gray-300 mb-1;
}

@utility empty-state-description {
  @apply text-sm text-gray-600 dark:text-gray-400 max-w-sm;
}

@utility empty-state-subtle {
  @apply bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700;
}

/* Loading state styling */
@utility loading-state {
  @apply flex items-center justify-center gap-2 p-6;
}

@utility loading-spinner {
  @apply w-5 h-5 animate-spin text-gray-500 dark:text-gray-400;
}

@utility loading-text {
  @apply text-sm text-gray-600 dark:text-gray-400;
}

/* Status badges */
@utility badge-error {
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-sm text-xs font-medium bg-red-100 text-red-800 dark:bg-red-950/20 dark:text-red-400;
}

@utility badge-success {
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-sm text-xs font-medium bg-green-100 text-green-800 dark:bg-green-950/20 dark:text-green-400;
}

@utility badge-warning {
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-sm text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-950/20 dark:text-orange-400;
}

@utility badge-info {
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-sm text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-950/20 dark:text-blue-400;
}

@utility badge-neutral {
  @apply inline-flex items-center gap-1 px-2 py-1 rounded-sm text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300;
}

/* Validation feedback */
@utility validation-group {
  @apply space-y-1;
}

@utility validation-message {
  @apply flex items-start gap-2 text-xs;
}

@utility validation-icon {
  @apply w-3 h-3 mt-0.5 flex-shrink-0;
}

/* Disabled states */
@utility disabled-input {
  @apply bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-60;
}

@utility disabled-button {
  @apply bg-gray-100 dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-60 pointer-events-none;
}

@utility disabled-text {
  @apply text-gray-400 dark:text-gray-500 opacity-60;
}

/* Typography Utilities - Semantic text classes */
@utility text-display-2xl {
  font-size: 4.5rem; /* 72px */
  line-height: var(--leading-none);
  letter-spacing: var(--tracking-tighter);
  font-weight: 700;
}

@utility text-display-xl {
  font-size: 3.75rem; /* 60px */
  line-height: var(--leading-none);
  letter-spacing: var(--tracking-tighter);
  font-weight: 700;
}

@utility text-display-lg {
  font-size: 3rem; /* 48px */
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  font-weight: 700;
}

@utility text-display-md {
  font-size: 2.25rem; /* 36px */
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-tight);
  font-weight: 600;
}

@utility text-body-lg {
  font-size: 1.125rem; /* 18px */
  line-height: var(--leading-relaxed);
  letter-spacing: var(--tracking-normal);
  font-weight: 400;
}

@utility text-body-md {
  font-size: 1rem; /* 16px */
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-normal);
  font-weight: 400;
}

@utility text-body-sm {
  font-size: 0.875rem; /* 14px */
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-normal);
  font-weight: 400;
}

@utility text-body-xs {
  font-size: 0.75rem; /* 12px */
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-wide);
  font-weight: 400;
}

@utility text-label-lg {
  font-size: 0.875rem; /* 14px */
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-normal);
  font-weight: 500;
}

@utility text-label-md {
  font-size: 0.75rem; /* 12px */
  line-height: var(--leading-normal);
  letter-spacing: var(--tracking-wide);
  font-weight: 500;
}

@utility text-label-sm {
  font-size: 0.6875rem; /* 11px */
  line-height: var(--leading-tight);
  letter-spacing: var(--tracking-wider);
  font-weight: 500;
  text-transform: uppercase;
}

/* Component spacing utilities (simplified) */
@utility padding-component-sm {
  padding: 12px;
}

@utility padding-component-md {
  padding: 16px;
}

@utility padding-component-lg {
  padding: 24px;
}

/* Motion preference utility for accessibility */
@media (prefers-reduced-motion: reduce) {
  .transition-all,
  .transform,
  [data-state] {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

:root {
  /* Use standardized RGB tokens from styles/theme.css */
  --sidebar: rgb(var(--sidebar-background));
  --sidebar-foreground: rgb(var(--sidebar-foreground));
  --sidebar-primary: rgb(var(--sidebar-primary));
  --sidebar-primary-foreground: rgb(var(--sidebar-primary-foreground));
  --sidebar-accent: rgb(var(--sidebar-accent));
  --sidebar-accent-foreground: rgb(var(--sidebar-accent-foreground));
  --sidebar-border: rgb(var(--sidebar-border));
  --sidebar-ring: rgb(var(--sidebar-ring));

  /* Enhanced tokens for atomic components */
  --sidebar-muted: rgb(var(--sidebar-muted));
  --sidebar-muted-foreground: rgb(var(--sidebar-muted-foreground));
  --sidebar-surface: rgb(var(--sidebar-surface));
  --sidebar-surface-hover: rgb(var(--sidebar-surface-hover));
  --sidebar-input-background: rgb(var(--sidebar-input-background));
  --sidebar-input-border: rgb(var(--sidebar-input-border));
}

.dark {
  /* Dark mode inherits standardized tokens from styles/theme.css */
  --sidebar: rgb(var(--sidebar-background));
  --sidebar-foreground: rgb(var(--sidebar-foreground));
  --sidebar-primary: rgb(var(--sidebar-primary));
  --sidebar-primary-foreground: rgb(var(--sidebar-primary-foreground));
  --sidebar-accent: rgb(var(--sidebar-accent));
  --sidebar-accent-foreground: rgb(var(--sidebar-accent-foreground));
  --sidebar-border: rgb(var(--sidebar-border));
  --sidebar-ring: rgb(var(--sidebar-ring));

  /* Enhanced tokens for atomic components - dark mode */
  --sidebar-muted: rgb(var(--sidebar-muted));
  --sidebar-muted-foreground: rgb(var(--sidebar-muted-foreground));
  --sidebar-surface: rgb(var(--sidebar-surface));
  --sidebar-surface-hover: rgb(var(--sidebar-surface-hover));
  --sidebar-input-background: rgb(var(--sidebar-input-background));
  --sidebar-input-border: rgb(var(--sidebar-input-border));
}

@theme inline {
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Enhanced sidebar tokens for atomic components */
  --color-sidebar-muted: var(--sidebar-muted);
  --color-sidebar-muted-foreground: var(--sidebar-muted-foreground);
  --color-sidebar-surface: var(--sidebar-surface);
  --color-sidebar-surface-hover: var(--sidebar-surface-hover);
  --color-sidebar-input-background: var(--sidebar-input-background);
  --color-sidebar-input-border: var(--sidebar-input-border);

  /* Additional semantic tokens for shadcn components */
  --color-foreground: var(--color-text-primary-token);
  --color-muted-foreground: var(--color-text-secondary-token);
}

/* ====================================
 * ENHANCED MICRO-INTERACTIONS & TRANSITIONS
 * Linear-inspired sophisticated animations with Apple-level polish
 * ====================================*/

/* Enhanced surface interaction utilities */
@utility surface-base {
  background-color: hsl(var(--bg-base));
  transition: background-color 200ms ease-out;
}

@utility surface-elevated {
  background-color: hsl(var(--bg-elevated));
  transition: background-color 200ms ease-out;
}

@utility surface-overlay {
  background-color: hsl(var(--bg-overlay));
  transition: background-color 200ms ease-out;
}

@utility surface-2 {
  background-color: hsl(var(--surface-2));
  transition: background-color 200ms ease-out;
}

@utility surface-3 {
  background-color: hsl(var(--surface-3));
  transition: background-color 200ms ease-out;
}

/* Sophisticated micro-interaction utilities */
@utility interactive-scale {
  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

@utility interactive-scale:hover {
  transform: scale(1.02);
}

@utility interactive-scale:active {
  transform: scale(0.98);
}

@utility interactive-lift {
  transition:
    transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
    box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

@utility interactive-lift:hover {
  transform: translateY(-2px);
  box-shadow:
    0 8px 25px -8px rgba(0, 0, 0, 0.15),
    0 0 0 1px rgba(255, 255, 255, 0.05);
}

@utility interactive-lift:active {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px -4px rgba(0, 0, 0, 0.1);
}

/* Linear-style floating action states */
@utility interactive-float {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

@utility interactive-float:hover {
  transform: translateY(-4px) scale(1.02);
  box-shadow:
    0 20px 40px -12px rgba(0, 0, 0, 0.2),
    0 0 0 1px rgba(255, 255, 255, 0.1);
}

@utility interactive-float:active {
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 8px 16px -6px rgba(0, 0, 0, 0.15);
}

/* Enhanced focus states with Linear sophistication */
@utility focus-ring-linear {
  outline: 2px solid transparent;
  outline-offset: 2px;
  transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

@utility focus-ring-linear:focus-visible {
  outline-color: var(--interactive-focus);
  box-shadow:
    0 0 0 4px hsla(var(--interactive-focus), 0.15),
    0 0 0 1px var(--interactive-focus);
  transform: scale(1.02);
}

/* Sophisticated shimmer effects */
@utility shimmer-subtle {
  position: relative;
  overflow: hidden;
}

@utility shimmer-subtle::after {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  transition: left 600ms cubic-bezier(0.4, 0, 0.2, 1);
}

@utility shimmer-subtle:hover::after {
  left: 100%;
}

/* Apple-style glass morphism with interactions */
@utility glass-interactive {
  background: var(--glass-subtle);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);
}

@utility glass-interactive:hover {
  background: var(--glass-medium);
  border-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-1px);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

/* Enhanced button press animations */
@utility btn-press-refined {
  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
}

@utility btn-press-refined:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

@utility btn-press-refined:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Linear-inspired loading states */
@utility loading-pulse-linear {
  animation: linear-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes linear-pulse {
  0%,
  100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.02);
  }
}

/* Sophisticated stagger animations for lists */
@utility stagger-animation {
  animation: stagger-in 400ms cubic-bezier(0.4, 0, 0.2, 1) backwards;
}

@keyframes stagger-in {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Enhanced card interactions */
@utility card-interactive-linear {
  transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

@utility card-interactive-linear:hover {
  transform: translateY(-2px) scale(1.01);
  box-shadow:
    0 12px 32px rgba(0, 0, 0, 0.12),
    0 2px 8px rgba(0, 0, 0, 0.08),
    0 0 0 1px rgba(255, 255, 255, 0.05);
}

@utility card-interactive-linear:active {
  transform: translateY(-1px) scale(1.005);
  box-shadow:
    0 6px 16px rgba(0, 0, 0, 0.1),
    0 1px 4px rgba(0, 0, 0, 0.06);
}

/* Smooth page transitions */
@utility page-transition {
  animation: page-enter 500ms cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes page-enter {
  from {
    opacity: 0;
    transform: translateY(24px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Enhanced text selection */
::selection {
  background-color: hsla(var(--interactive-focus), 0.2);
  color: var(--text-primary);
}

::-moz-selection {
  background-color: hsla(var(--interactive-focus), 0.2);
  color: var(--text-primary);
}
