/**
 * üîí CRITICAL IMPORTS - DO NOT MODIFY ORDER OR PATHS
 *
 * ‚ùå DO NOT CHANGE:
 * - Import order (tailwindcss must be first)
 * - Design system path: "../styles/design-system.css" (single source of truth for design tokens)
 * - Theme path: "../styles/theme.css" (feature accents and animations only)
 * - Import syntax
 *
 * ‚ö†Ô∏è  CHANGING THESE WILL BREAK ALL STYLING
 */

@import "tailwindcss";
@import "../styles/design-system.css";
@import "../styles/theme.css";
/* @import "tw-animate-css"; */

@custom-variant dark (&:is(.dark *));

/* Base document sizing and immediate dark-aware fallback colors */
html,
body {
  height: 100%;
  overflow-x: hidden;
  overscroll-behavior: none;
}

/* Smooth scroll for anchor links, respecting reduced motion preference */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}

/* Fallback colors before token CSS finishes loading */
body {
  background: #ffffff;
  color: #0c0c0c;
}

.dark body {
  background: var(--color-bg-base);
  color: var(--color-text-primary-token);
}

@layer base {
  :root {
    --font-inter: "Inter Variable";

    /* Safe area inset custom properties for iOS device support */
    --safe-area-inset-top: env(safe-area-inset-top, 0px);
    --safe-area-inset-right: env(safe-area-inset-right, 0px);
    --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-inset-left: env(safe-area-inset-left, 0px);
  }

  /* Linear Typography Features - apply font features globally */
  body {
    font-feature-settings:
      "cv01",
      "ss03",
      "rlig" 1,
      "calt" 1;
    letter-spacing: -0.011em;
  }
}

@theme {
  /* Font stack: var(--font-inter) for Next.js localFont, then Linear's exact fallbacks */
  --font-sans:
    var(--font-inter), "Inter Variable", "SF Pro Display", -apple-system, "system-ui",
    "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;

  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  --tracking-tighter: -0.02em;
  --tracking-tight: -0.01em;
  --tracking-normal: 0;
  --tracking-wide: 0.01em;
  --tracking-wider: 0.02em;

  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* Map app-level button tokens to Tailwind v4 color tokens so classes like bg-btn-primary work */
  --color-btn-primary: var(--color-btn-primary-bg);
  --color-btn-primary-foreground: var(--color-btn-primary-fg);

  /* Platform brand colors - exposed as Tailwind utilities */
  --color-brand-spotify: var(--color-brand-spotify);
  --color-brand-spotify-hover: var(--color-brand-spotify-hover);
  --color-brand-spotify-subtle: var(--color-brand-spotify-subtle);
  --color-brand-apple: var(--color-brand-apple);
  --color-brand-apple-hover: var(--color-brand-apple-hover);
  --color-brand-apple-subtle: var(--color-brand-apple-subtle);
  --color-brand-youtube: var(--color-brand-youtube);
  --color-brand-youtube-hover: var(--color-brand-youtube-hover);
  --color-brand-youtube-subtle: var(--color-brand-youtube-subtle);

  /* Surface backgrounds ‚Äî generates bg-base, bg-surface-0, bg-surface-1, etc. */
  --color-base: var(--color-bg-base);
  --color-surface-0: var(--color-bg-surface-0);
  --color-surface-1: var(--color-bg-surface-1);
  --color-surface-2: var(--color-bg-surface-2);
  --color-surface-3: var(--color-bg-surface-3);

  /* Border tokens ‚Äî generates border-subtle, border-default, border-strong */
  --color-subtle: var(--color-border-subtle);
  --color-default: var(--color-border-default);
  --color-strong: var(--color-border-strong);

  /* Additional text utilities */
  --color-muted-secondary: var(--color-text-muted-secondary);
}

/* ============================================
   SAFE AREA UTILITIES - MIGRATED TO PLUGIN
   ============================================
   These utilities are now in lib/tailwind/utilities-plugin.js
   Commented out to prevent conflicts with Tailwind v4

@utility pt-safe, pr-safe, pb-safe, pl-safe - Base safe area padding
@utility top-safe, right-safe, bottom-safe, left-safe - Safe area positioning
@utility pt-4-safe, pb-4-safe, etc. - Safe area + spacing variants
*/

/* ============================================
   TYPOGRAPHY & PATTERN UTILITIES
   ============================================ */

/* Typography utilities - component-like, moved to @layer components */
@layer components {
  .dashboard-heading {
    font-weight: 590;
    letter-spacing: -0.025em;
    font-feature-settings:
      "cv01",
      "ss03",
      "rlig" 1,
      "calt" 1;
  }

  .dashboard-label {
    font-size: 0.6875rem; /* 11px */
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
  }

  .dashboard-body {
    font-feature-settings:
      "cv01",
      "ss03",
      "rlig" 1,
      "calt" 1;
    letter-spacing: -0.011em;
  }
}

/* Grid backgrounds - MIGRATED TO PLUGIN
   Now in lib/tailwind/utilities-plugin.js */

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-border-subtle, currentcolor);
  }
}

/* ============================================
   BUTTON & FOCUS UTILITIES - MOVED TO COMPONENTS
   ============================================ */

@layer components {
  /* Focus ring utilities */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-500/50 dark:focus-visible:ring-white/40 dark:focus-visible:ring-offset-gray-900;
  }

  .focus-ring-transparent-offset {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-transparent focus-visible:ring-gray-500/50 dark:focus-visible:ring-white/40;
  }

  /* Button component styles */
  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors disabled:opacity-50 disabled:pointer-events-none;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-gray-500/50 dark:focus-visible:ring-white/40 dark:focus-visible:ring-offset-gray-900;
  }

  .btn-primary {
    background-color: var(--color-btn-primary-bg);
    color: var(--color-btn-primary-fg);
  }

  .btn-secondary {
    background-color: var(--color-bg-surface-2);
    color: var(--color-text-primary-token);
  }

  .btn-secondary:hover {
    background-color: var(--color-bg-surface-3);
  }

  .btn-ghost:hover {
    background-color: var(--color-bg-surface-2);
  }

  .btn-sm {
    @apply h-8 px-3 text-xs;
  }

  .btn-md {
    @apply h-10 px-4 py-2;
  }

  .btn-lg {
    @apply h-12 px-8 text-base;
  }
}

/* bg-btn-primary and text-btn-primary-foreground now available via theme.extend.colors
   text-accent now available via theme.extend.colors */

/* ============================================
   MENU/DROPDOWN UTILITIES - MOVED TO COMPONENTS
   ============================================ */

@layer components {
  .menu-background {
    background-color: rgb(var(--menu-background));
  }

  .menu-border {
    border-color: rgb(var(--menu-border));
  }

  .menu-shadow {
    box-shadow:
      0 10px 15px -3px rgb(var(--menu-shadow)),
      0 4px 6px -2px rgb(var(--menu-shadow));
  }

  .menu-item-hover {
    background-color: rgb(var(--menu-item-hover));
  }

  .menu-separator {
    border-color: rgb(var(--menu-separator));
  }
}

/* ============================================
   SURFACE & TEXT UTILITIES - MIGRATED TO THEME
   ============================================
   These are now available via theme.extend.colors:
   - bg-surface-0, bg-surface-1, bg-surface-2, bg-surface-3
   - text-primary-token, text-secondary-token, text-tertiary-token
*/

/* Legacy surface utilities (map to new system) */
@layer components {
  .surface {
    background-color: var(--color-bg-surface-1);
  }

  .surface-hover {
    background-color: var(--color-bg-surface-2);
  }

  .surface-pressed {
    background-color: var(--color-bg-surface-3);
  }

  /* Backwards compatibility aliases */
  .text-primary {
    color: var(--color-text-primary-token);
  }

  .text-secondary {
    color: var(--color-text-secondary-token);
  }

  .text-tertiary {
    color: var(--color-text-tertiary-token);
  }
}

/* ============================================
   MARKETING & TYPOGRAPHY COMPONENTS
   ============================================ */

@layer components {
  .heading-linear {
    font-feature-settings: var(--linear-font-features);
    font-variation-settings: "opsz" var(--linear-font-optical-sizing);
    letter-spacing: var(--linear-tracking-headline);
    font-weight: var(--linear-font-weight-semibold);
    line-height: var(--linear-leading-snug);
    text-wrap: balance;
  }

  .text-linear {
    font-feature-settings: var(--linear-font-features);
    font-variation-settings: "opsz" var(--linear-font-optical-sizing);
    letter-spacing: var(--linear-tracking-body);
    line-height: var(--linear-leading-normal);
  }

  .marketing-h1-linear {
    font-size: clamp(
      var(--linear-h1-size-sm),
      5vw +
      1rem,
      var(--linear-h1-size-lg)
    );
    font-weight: var(--linear-font-weight-semibold);
    letter-spacing: var(--linear-tracking-headline);
    line-height: var(--linear-leading-snug);
    font-feature-settings: var(--linear-font-features);
    font-variation-settings: "opsz" var(--linear-font-optical-sizing);
    text-wrap: balance;
  }

  .marketing-h2-linear {
    font-size: clamp(
      var(--linear-h2-size-sm),
      3vw +
      1rem,
      var(--linear-h2-size-lg)
    );
    font-weight: var(--linear-font-weight-semibold);
    letter-spacing: var(--linear-tracking-subheadline);
    line-height: 1.2;
    font-feature-settings: var(--linear-font-features);
    font-variation-settings: "opsz" var(--linear-font-optical-sizing);
    text-wrap: balance;
  }

  .marketing-lead-linear {
    font-size: clamp(
      var(--linear-body-lg-size-sm),
      1.5vw +
      0.5rem,
      var(--linear-body-lg-size-lg)
    );
    font-feature-settings: var(--linear-font-features);
    font-variation-settings: "opsz" var(--linear-font-optical-sizing);
    letter-spacing: var(--linear-tracking-body);
    line-height: var(--linear-leading-normal);
  }

  .marketing-body {
    font-feature-settings:
      "cv01",
      "ss03",
      "rlig" 1,
      "calt" 1;
    font-variation-settings: "opsz" 28;
    letter-spacing: -0.011em;
    line-height: 1.6;
    @apply text-base sm:text-lg;
  }

  .marketing-card {
    @apply relative p-6 rounded-2xl border transition-colors;
    border-color: var(--color-border-subtle);
  }

  .marketing-cta {
    @apply relative inline-flex items-center justify-center rounded-md bg-btn-primary text-btn-primary-foreground px-6 py-3 text-sm font-semibold transition-colors;
  }
}

/* scrollbar-hide - MIGRATED TO PLUGIN
   Now in lib/tailwind/utilities-plugin.js */

@layer base {
  .marketing-mono {
    /* Linear uses normal letter-spacing */
    letter-spacing: normal;

    /* Light mode - Linear-inspired minimal aesthetic */
    --color-bg-base: #ffffff;
    --color-bg-surface-0: #fafbfc;
    --color-bg-surface-1: #f6f7f8;
    --color-bg-surface-2: #eef0f2;
    --color-bg-surface-3: #e5e7eb;

    /* Light mode text hierarchy */
    --color-text-primary-token: #0c0c0c;
    --color-text-secondary-token: #3f3f46;
    --color-text-tertiary-token: #52525b;
    --color-text-quaternary-token: #a1a1aa;

    /* Light mode borders */
    --color-border-subtle: rgba(0, 0, 0, 0.06);
    --color-border-default: rgba(0, 0, 0, 0.1);
    --color-border-strong: rgba(0, 0, 0, 0.18);

    /* Light mode buttons */
    --color-btn-primary-bg: #0c0c0c;
    --color-btn-primary-fg: #ffffff;
  }

  /* Dark mode variant */
  :root.dark .marketing-mono,
  .dark .marketing-mono {
    /* Linear's dark-8a equivalent */
    --color-bg-base: #0a0a0f; /* Warmer off-black */
    --color-bg-surface-0: #0f0f12;
    --color-bg-surface-1: #141419;
    --color-bg-surface-2: #18181f;
    --color-bg-surface-3: #1e1e27;

    /* Dark mode text hierarchy */
    --color-text-primary-token: #f4f4f5;
    --color-text-secondary-token: #d4d4d8;
    --color-text-tertiary-token: #a1a1aa;
    --color-text-quaternary-token: #737378;

    /* Dark mode borders */
    --color-border-subtle: rgba(255, 255, 255, 0.06);
    --color-border-default: rgba(255, 255, 255, 0.1);
    --color-border-strong: rgba(255, 255, 255, 0.18);

    /* Dark mode buttons */
    --color-btn-primary-bg: #ffffff;
    --color-btn-primary-fg: #0a0a0f;
  }
}

/* ============================================
   LINEAR-STYLE COMPONENTS
   ============================================ */

@layer components {
  /* Linear Nav Link - uses Linear tokens */
  .nav-link-linear {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: var(--linear-button-height-sm);
    padding: 0 var(--linear-space-3);
    margin: 0;
    font-size: var(--linear-caption-size);
    font-weight: var(--linear-font-weight-medium);
    line-height: var(--linear-caption-leading);
    color: var(--linear-text-secondary);
    background-color: transparent;
    border: none;
    border-radius: var(--linear-radius-sm);
    outline-color: transparent;
    min-width: 0;
    min-height: 0;
    transition:
      color var(--linear-duration-fast) var(--linear-ease),
      background var(--linear-duration-fast) var(--linear-ease);

    &:hover {
      background-color: var(--linear-bg-hover);
      color: var(--linear-text-primary);
    }
  }

  /* Linear Nav Login Button - uses Linear tokens */
  .btn-linear-login {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    height: var(--linear-button-height-sm);
    padding: 0 var(--linear-space-3);
    font-size: var(--linear-caption-size);
    font-weight: var(--linear-font-weight-medium);
    line-height: var(--linear-caption-leading);
    color: var(--linear-text-secondary);
    background-color: transparent;
    border: none;
    border-radius: var(--linear-radius-sm);
    outline-color: transparent;
    min-width: 0;
    min-height: 0;
    transition:
      color var(--linear-duration-fast) var(--linear-ease),
      background var(--linear-duration-fast) var(--linear-ease);

    &:hover {
      background-color: var(--linear-bg-hover);
      color: var(--linear-text-primary);
    }
  }

  /* Linear Nav Signup Button - uses Linear tokens */
  .btn-linear-signup {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--linear-gap-buttons);
    height: var(--linear-button-height-sm);
    padding: 0 var(--linear-space-3);
    font-size: var(--linear-caption-size);
    font-weight: var(--linear-font-weight-medium);
    line-height: var(--linear-button-height-sm);
    color: var(--linear-btn-primary-fg);
    background-color: var(--linear-btn-primary-bg);
    border: 1px solid var(--linear-btn-primary-border);
    border-radius: var(--linear-radius-sm);
    outline-color: transparent;
    max-width: 100%;
    box-shadow: var(--linear-shadow-button);
    transition:
      border var(--linear-duration-normal) var(--linear-ease),
      background-color var(--linear-duration-normal) var(--linear-ease),
      color var(--linear-duration-normal) var(--linear-ease),
      box-shadow var(--linear-duration-normal) var(--linear-ease),
      opacity var(--linear-duration-normal) var(--linear-ease),
      filter var(--linear-duration-normal) var(--linear-ease),
      transform var(--linear-duration-normal) var(--linear-ease);

    &:hover {
      background-color: var(--linear-btn-primary-hover);
    }
  }

  /* Mobile Nav Toggle Button */
  .mobile-nav-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    padding: 0;
    color: var(--linear-text-primary);
    background: transparent;
    border: none;
    border-radius: var(--linear-radius-sm);
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    transition: background var(--linear-duration-fast) var(--linear-ease);

    &:hover {
      background-color: var(--linear-bg-hover);
    }
  }

  /* Mobile Nav Overlay */
  .mobile-nav-overlay {
    position: fixed;
    inset: 0;
    z-index: 99;
    background: oklch(0 0 0 / 0.5);
    animation: mobile-nav-fade-in 200ms ease forwards;
  }

  /* Mobile Nav Panel */
  .mobile-nav-panel {
    position: fixed;
    top: var(--linear-header-height);
    left: 0;
    right: 0;
    z-index: 100;
    background-color: var(--linear-bg-header);
    border-bottom: 1px solid var(--linear-border-subtle);
    padding: var(--linear-space-4) var(--linear-container-padding);
    transform: translateY(-100%);
    opacity: 0;
    pointer-events: none;
    transition:
      transform 200ms cubic-bezier(0.4, 0, 0.2, 1),
      opacity 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mobile-nav-panel--open {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }

  /* Mobile Nav Links Container */
  .mobile-nav-links {
    display: flex;
    flex-direction: column;
    gap: var(--linear-space-1);
  }

  /* Mobile Nav Link */
  .mobile-nav-link {
    display: flex;
    align-items: center;
    height: 44px;
    padding: 0 var(--linear-space-3);
    font-size: var(--linear-caption-size);
    font-weight: var(--linear-font-weight-medium);
    color: var(--linear-text-secondary);
    border-radius: var(--linear-radius-sm);
    transition:
      color var(--linear-duration-fast) var(--linear-ease),
      background var(--linear-duration-fast) var(--linear-ease);

    &:hover {
      background-color: var(--linear-bg-hover);
      color: var(--linear-text-primary);
    }
  }

  /* Mobile Nav CTA (Sign up) */
  .mobile-nav-cta {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 44px;
    margin-top: var(--linear-space-2);
    font-size: var(--linear-caption-size);
    font-weight: var(--linear-font-weight-medium);
    color: var(--linear-btn-primary-fg);
    background-color: var(--linear-btn-primary-bg);
    border: 1px solid var(--linear-btn-primary-border);
    border-radius: var(--linear-radius-sm);
    box-shadow: var(--linear-shadow-button);
    transition:
      background-color var(--linear-duration-normal) var(--linear-ease),
      opacity var(--linear-duration-normal) var(--linear-ease);

    &:hover {
      background-color: var(--linear-btn-primary-hover);
    }
  }

  @keyframes mobile-nav-fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Linear Button - Primary CTA styling using tokens */
  .btn-linear-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--linear-gap-buttons);
    height: var(--linear-button-height-sm);
    padding: 0 var(--linear-space-3);
    border-radius: var(--linear-radius-sm);
    font-size: var(--linear-caption-size);
    font-weight: var(--linear-font-weight-medium);
    line-height: var(--linear-button-height-sm);
    letter-spacing: var(--linear-tracking-normal);
    background-color: var(--linear-btn-primary-bg);
    color: var(--linear-btn-primary-fg);
    border: 1px solid var(--linear-btn-primary-border);
    max-width: 100%;
    box-shadow: var(--linear-shadow-button);
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);

    &:hover {
      opacity: 0.9;
    }
  }

  /* Linear Spacing System - generous vertical rhythm */
  .section-spacing-linear {
    padding-top: var(--linear-section-py-sm); /* 80px mobile */
    padding-bottom: var(--linear-section-py-sm);

    @media (min-width: 768px) {
      padding-top: var(--linear-section-py-md); /* 120px tablet */
      padding-bottom: var(--linear-section-py-md);
    }

    @media (min-width: 1024px) {
      padding-top: var(--linear-section-py-lg); /* 160px desktop */
      padding-bottom: var(--linear-section-py-lg);
    }
  }

  /* Smaller section spacing for tighter groupings */
  .section-spacing-linear-sm {
    padding-top: var(--linear-space-16); /* 64px */
    padding-bottom: var(--linear-space-16);

    @media (min-width: 768px) {
      padding-top: var(--linear-space-20); /* 80px */
      padding-bottom: var(--linear-space-20);
    }

    @media (min-width: 1024px) {
      padding-top: var(--linear-space-24); /* 96px */
      padding-bottom: var(--linear-space-24);
    }
  }

  .section-gap-linear {
    gap: var(--linear-content-gap-sm); /* 48px */

    @media (min-width: 768px) {
      gap: var(--linear-content-gap-md); /* 64px */
    }

    @media (min-width: 1024px) {
      gap: var(--linear-content-gap-lg); /* 80px */
    }
  }

  /* Heading to content gap */
  .heading-gap-linear {
    margin-bottom: var(--linear-content-gap-sm);

    @media (min-width: 768px) {
      margin-bottom: var(--linear-content-gap-md);
    }
  }

  .text-destructive {
    color: #dc2626;
    /* red-600 */

    &:is(.dark *) {
      color: #f87171;
      /* red-400 */
    }
  }
}

/* text-quaternary-token now available via theme.extend.colors */

/* ============================================
   SEMANTIC STATUS UTILITIES - MIGRATED TO THEME
   ============================================
   Core utilities now available via theme.extend:
   - text-success, text-error, text-warning, text-info
   - bg-success, bg-error, bg-warning, bg-info
   - bg-success-subtle, bg-error-subtle, bg-warning-subtle, bg-info-subtle
   - border-success, border-error, border-warning, border-info
*/

/* Interactive state utilities - moved to components */
@layer components {
  .interactive-hover {
    background-color: var(--color-interactive-hover);
  }

  .interactive-pressed {
    background-color: var(--color-interactive-active);
  }

  .focus-ring-themed {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2;
    --tw-ring-color: var(--color-focus-ring);
  }
}

/* Menu animations */
@keyframes user-menu-enter {
  from {
    opacity: 0;
    transform: translateY(-4px) scale(0.99);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
  }
}

@layer base {
  /* All design tokens now defined in design-system.css (single source of truth) */
  /* This layer only contains base HTML styling */

  body {
    background-color: var(--color-bg-base);
    color: var(--color-text-primary-token);
    font-feature-settings:
      "rlig" 1,
      "calt" 1;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold tracking-tight;
  }

  h1 {
    @apply text-4xl lg:text-5xl;
  }

  h2 {
    @apply text-3xl lg:text-4xl;
  }

  h3 {
    @apply text-2xl lg:text-3xl;
  }

  h4 {
    @apply text-xl lg:text-2xl;
  }

  h5 {
    @apply text-lg lg:text-xl;
  }

  h6 {
    @apply text-base lg:text-lg;
  }
}

/* ============================================
   COLOR UTILITY BRIDGES - MIGRATED TO THEME
   ============================================
   These utilities are now available via theme.extend.colors:
   - bg-base (via colors.base)
   - text-accent (via colors.accent)
   - bg-accent (via colors.accent)
   - border-subtle, border-default, border-strong (via borderColor)
   - border-accent (via borderColor.accent)
   - ring-accent (Tailwind auto-generates from colors.accent)
*/

/* Safe utilities with hardcoded fallbacks for critical above-the-fold content */
@layer components {
  .bg-base-safe {
    background-color: #f6f6f6;
    background-color: var(--color-bg-base, #f6f6f6);
  }

  .text-primary-safe {
    color: #0c0c0c;
    color: var(--color-text-primary-token, #0c0c0c);
  }

  :root.dark .bg-base-safe {
    background-color: #090909;
    background-color: var(--color-bg-base, #090909);
  }

  :root.dark .text-primary-safe {
    color: #f4f4f5;
    color: var(--color-text-primary-token, #f4f4f5);
  }

  /* Legacy aliases for backwards compatibility */
  .text-accent-token {
    color: var(--color-accent);
  }

  .text-color-accent {
    color: var(--color-accent);
  }

  .bg-color-accent {
    background-color: var(--color-accent);
  }

  .bg-bg-base {
    background-color: var(--color-bg-base);
  }

  .bg-bg-surface-1 {
    background-color: var(--color-bg-surface-1);
  }
}

/* ============================================
   SKELETON LOADING COMPONENT
   ============================================ */

@layer components {
  .skeleton {
    background-color: var(--color-skeleton-base);
    background-image: linear-gradient(
      90deg,
      transparent,
      var(--color-skeleton-shimmer),
      transparent
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;

    /* Reduced motion: show static background instead of shimmer animation */
    @media (prefers-reduced-motion: reduce) {
      animation: none;
      background-image: none;
    }
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }

  100% {
    background-position: 200% 0;
  }
}

/* ============================================
   ANIMATION COMPONENTS
   ============================================ */

@layer components {
  /* Preview update animation */
  .animate-shimmer {
    animation: shimmer 1.5s ease-in-out infinite;

    /* Reduced motion: disable shimmer animation */
    @media (prefers-reduced-motion: reduce) {
      animation: none;
    }
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.5s ease-out;
  }

  .animate-pulse-slow {
    animation: pulse-slow 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .animate-scroll-infinite {
    animation: scroll-infinite 30s linear infinite;

    @media (prefers-reduced-motion: reduce) {
      animation: none;
    }
  }

  /* Micro-animations */
  .card-hover {
    @apply transform transition-all duration-200 ease-out hover:-translate-y-1 hover:shadow-lg hover:shadow-gray-200/25 dark:hover:shadow-gray-900/25;
  }

  .input-focus-glow {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-1 focus-visible:shadow-lg transition-all duration-200;
    --tw-ring-color: var(--color-accent);
  }

  .btn-press {
    @apply transform transition-transform duration-100 ease-out active:scale-95;
  }
}

/* Keyframes */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(4px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes pulse-slow {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

@keyframes scroll-infinite {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

/* Motion preference utility for accessibility */
@media (prefers-reduced-motion: reduce) {
  .transition-all,
  .transform,
  [data-state] {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

@media print {
  @page {
    margin: 18mm;
  }

  html[data-doc-page="true"],
  html[data-doc-page="true"] body {
    background: #ffffff !important;
    color: #000000 !important;
    height: auto !important;
    overflow: visible !important;
  }

  html[data-doc-page="true"] main {
    height: auto !important;
    overflow: visible !important;
  }

  html[data-doc-page="true"] .min-h-screen,
  html[data-doc-page="true"] .h-screen {
    min-height: auto !important;
    height: auto !important;
  }

  html[data-doc-page="true"] .overflow-hidden {
    overflow: visible !important;
  }

  html[data-doc-page="true"] [data-testid="header-nav"],
  html[data-doc-page="true"] footer,
  html[data-doc-page="true"] [data-doc-toolbar],
  html[data-doc-page="true"] [data-doc-sidebar] {
    display: none !important;
  }

  html[data-doc-page="true"] a {
    color: #000000 !important;
    text-decoration: underline !important;
    text-underline-offset: 3px;
  }

  html[data-doc-page="true"] * {
    box-shadow: none !important;
    text-shadow: none !important;
  }
}

/* ============================================
   AUTH LOGO ANIMATION
   ============================================ */

@layer components {
  .animate-logo-spin {
    animation: logo-spin 1.2s ease-in-out 0s 1 forwards;
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-logo-spin {
      animation: none !important;
    }
  }
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* Claim handle shake and available animations */
@keyframes jv-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-2px);
  }
  50% {
    transform: translateX(2px);
  }
  75% {
    transform: translateX(-2px);
  }
}

@keyframes jv-available-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
  }
  70% {
    box-shadow: 0 0 0 8px rgba(16, 185, 129, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(16, 185, 129, 0);
  }
}

@keyframes jv-available-fade {
  0% {
    opacity: 0.7;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

.jv-shake {
  animation: jv-shake 150ms ease-in-out;
}

.jv-available {
  box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.35);
  animation: jv-available-pulse 900ms ease-out 1;
}

/* Reduced motion: disable shake, use opacity fade instead of box-shadow pulse */
@media (prefers-reduced-motion: reduce) {
  .jv-shake {
    animation: none;
  }
  .jv-available {
    box-shadow: none;
    animation: jv-available-fade 900ms ease-out 1;
  }
}

/* Parallax grid item hover styles */
.grid-item {
  transition:
    transform 0.3s ease-out,
    box-shadow 0.3s ease-out;
  transform-style: preserve-3d;
}

.grid-item:hover {
  transform: translateY(-2px) translateZ(10px);
  box-shadow:
    0 10px 25px -5px rgba(0, 0, 0, 0.1),
    0 8px 10px -6px rgba(0, 0, 0, 0.1);
}

@media (prefers-reduced-motion: reduce) {
  .grid-item {
    transition: none;
  }
  .grid-item:hover {
    transform: none;
    box-shadow: none;
  }
}

@theme inline {
  --color-sidebar: rgb(var(--sidebar-background));
  --color-sidebar-foreground: rgb(var(--sidebar-foreground));
  --color-sidebar-primary: rgb(var(--sidebar-primary));
  --color-sidebar-primary-foreground: rgb(var(--sidebar-primary-foreground));
  --color-sidebar-accent: rgb(var(--sidebar-accent));
  --color-sidebar-accent-foreground: rgb(var(--sidebar-accent-foreground));
  --color-sidebar-border: rgb(var(--sidebar-border));
  --color-sidebar-ring: rgb(var(--sidebar-ring));

  --color-sidebar-muted: rgb(var(--sidebar-muted));
  --color-sidebar-muted-foreground: rgb(var(--sidebar-muted-foreground));
  --color-sidebar-surface: rgb(var(--sidebar-surface));
  --color-sidebar-surface-hover: rgb(var(--sidebar-surface-hover));
  --color-sidebar-input-background: rgb(var(--sidebar-input-background));
  --color-sidebar-input-border: rgb(var(--sidebar-input-border));
  --color-sidebar-item-foreground: rgb(var(--sidebar-item-foreground));
  --color-sidebar-item-icon: rgb(var(--sidebar-item-icon));
  --color-sidebar-accent-active: rgb(var(--sidebar-accent-active));

  /* Additional semantic tokens for shadcn components */
  --color-foreground: var(--color-text-primary-token);
  --color-muted-foreground: var(--color-text-secondary-token);
}
