/**
 * Jovie Design System - Linear-inspired OKLCH Theme Generation
 *
 * Core Principles (from Linear's redesign):
 * 1. OKLCH color space for perceptual uniformity
 * 2. Only 3 theme inputs generate ALL colors
 * 3. Light/dark modes use identical generation logic
 * 4. Contrast is a continuous variable (0-100)
 *
 * @see https://linear.app/now/how-we-redesigned-the-linear-ui
 */

/* Import Linear-specific tokens for marketing pages */
@import "./linear-tokens.css";

/* ============================================
   THEME INPUTS - The only 3 variables needed
   ============================================ */
:root {
  /* Core Theme Inputs */
  --theme-base-hue: 272;
  /* Neutral foundation hue (blue-gray) */
  --theme-base-chroma: 0.015;
  /* Very low chroma for neutrals */
  --theme-accent-hue: 271;
  /* Brand accent hue (purple) */
  --theme-accent-chroma: 0.18;
  /* Vibrant accent saturation */
  --theme-contrast: 65;
  /* Contrast level (0-100) */

  /* Derived base lightness for light mode */
  --theme-base-l: 99%;
  /* Near white for light mode */
}

:root.dark {
  /* Dark mode only changes base lightness */
  --theme-base-l: 12%;
  /* Deep dark for dark mode */
}

/* ============================================
   SURFACE SYSTEM - Layered elevation
   ============================================

   Linear uses 5 surface levels for depth:
   - base: App background
   - surface-0: Elevated (sidebars)
   - surface-1: Cards/panels
   - surface-2: Interactive/hover
   - surface-3: Pressed/active
*/

:root {
  /* Light mode surfaces - Linear-style: white base, subtle gray elevation */
  /* prettier-ignore */ --color-bg-base: #f5f5f5; /* Sidebar & page bg */
  /* prettier-ignore */ --color-bg-surface-0: #f5f5f5; /* Same as base */
  /* prettier-ignore */ --color-bg-surface-1: #ffffff; /* Main content area */
  /* prettier-ignore */ --color-bg-surface-2: #ffffff; /* Cards / elevated */
  /* prettier-ignore */ --color-bg-surface-3: #f0f0f0; /* Modals / tooltips */

  /* Additional light surface levels (matching Linear's semantic bg tokens)
     Linear live values:
       bg-primary:    lch(99% 0 282.863)       — main content
       bg-secondary:  lch(93.75% 0 282.863)    — cards, panels
       bg-tertiary:   lch(91.417% 0 282.863)   — nested surfaces
       bg-quaternary: lch(97.542% 0 282.863)   — HOVER STATE BG (critical!) */
  --color-bg-page: oklch(97% 0 283); /* Page-level bg */
  --color-bg-hover: oklch(97.5% 0 283); /* Row/item hover */
  --color-bg-elevated: oklch(92% 0 283); /* Extra elevation */
  --color-bg-input: oklch(100% 0 0); /* Input backgrounds */
  --color-bg-active: oklch(95% 0 283); /* Active/selected */
  --color-bg-button: oklch(93% 0 283); /* Button backgrounds */

  /* Text hierarchy - contrast-aware */
  --color-text-primary-token: oklch(10% 0 0);
  --color-text-secondary-token: oklch(
    40% var(--theme-base-chroma) var(--theme-base-hue)
  );
  --color-text-tertiary-token: oklch(
    50% var(--theme-base-chroma) var(--theme-base-hue)
  );
  --color-text-quaternary-token: oklch(
    60% var(--theme-base-chroma) var(--theme-base-hue)
  );
  --color-text-disabled-token: oklch(
    70% var(--theme-base-chroma) var(--theme-base-hue)
  );

  /* Logo muted tokens for label logos bar */
  --color-logo-muted: rgba(0, 0, 0, 0.25);
  --color-logo-muted-hover: rgba(0, 0, 0, 0.5);

  /* Border system - semi-transparent for flexibility */
  --color-border-subtle: oklch(0% 0 0 / 6%);
  --color-border-default: oklch(0% 0 0 / 10%);
  --color-border-strong: oklch(0% 0 0 / 18%);
  --color-border-focus: oklch(55% 0.2 271);

  /* Accent colors - derived from theme inputs */
  --color-accent: oklch(55% var(--theme-accent-chroma) var(--theme-accent-hue));
  --color-accent-hover: oklch(
    50% var(--theme-accent-chroma) var(--theme-accent-hue)
  );
  --color-accent-active: oklch(
    45% var(--theme-accent-chroma) var(--theme-accent-hue)
  );
  --color-accent-subtle: oklch(
    95% calc(var(--theme-accent-chroma) * 0.5) var(--theme-accent-hue)
  );
  --color-accent-foreground: oklch(100% 0 0);

  /* Primary button - high contrast */
  --color-btn-primary-bg: oklch(10% 0 0);
  --color-btn-primary-fg: oklch(100% 0 0);
  --color-btn-primary-hover: oklch(20% 0 0);

  /* Secondary button */
  --color-btn-secondary-bg: oklch(
    93% var(--theme-base-chroma) var(--theme-base-hue)
  );
  --color-btn-secondary-fg: oklch(20% 0 0);
  --color-btn-secondary-hover: oklch(
    88% var(--theme-base-chroma) var(--theme-base-hue)
  );

  /* Interactive states */
  --color-interactive-hover: oklch(0% 0 0 / 6%);
  --color-interactive-active: oklch(0% 0 0 / 12%);

  /* Table cell hover */
  --color-cell-hover: #f0f0f0;

  /* Shadows — Linear uses ring-border pattern (1px solid ring via box-shadow)
     Extracted from Linear.app live (2026-02-15) */
  --shadow-color: 240 10% 3.9%;
  --shadow-sm:
    rgba(0, 0, 0, 0.04) 0px 1px 2px 0px, rgba(0, 0, 0, 0.04) 0px 2px 4px 0px;
  --shadow-md: 0 4px 6px oklch(0% 0 0 / 4%), 0 2px 4px oklch(0% 0 0 / 6%);
  --shadow-lg: 0 10px 20px oklch(0% 0 0 / 5%), 0 6px 6px oklch(0% 0 0 / 6%);
  --shadow-xl: rgba(0, 0, 0, 0.15) 0px 40px 80px 0px;

  /* Linear card shadow — ring border + soft depth (the signature look) */
  --shadow-card:
    oklch(80% 0 283) 0px 0px 0px 1px,
    oklch(0% 0 0 / 2.2%) 0px 3px 6px -2px,
    oklch(0% 0 0 / 4.4%) 0px 1px 1px 0px;
  --shadow-card-elevated:
    oklch(0% 0 0 / 2.2%) 0px 3px 6px -2px, oklch(0% 0 0 / 4.4%) 0px 1px 1px 0px;

  /* Inset divider shadow (used for section separators) */
  --shadow-divider: oklch(86% 0 283) 0px -0.5px 0px 0px inset;

  /* Button inset shadow */
  --shadow-button-inset:
    0px 4px 4px -1px oklch(0% 0 0 / 6%), 0px 1px 1px 0px oklch(0% 0 0 / 12%);

  /* Skeleton/loading states */
  --color-skeleton-base: oklch(
    95% var(--theme-base-chroma) var(--theme-base-hue)
  );
  --color-skeleton-shimmer: oklch(100% 0 0);

  /* Focus ring */
  --color-focus-ring: var(--color-accent);
  --focus-ring-width: 2px;
  --focus-ring-offset: 2px;
}

/* Dark mode - same generation logic, inverted lightness */
:root.dark {
  /* Dark mode surfaces - extracted from Linear.app marketing (2026-02-16)
     via Playwright getComputedStyle on live page elements.
     Key: chroma is very low (0.003) — nearly achromatic with hint of blue.
     Hue 260 (Linear's neutral gray family).

     Extracted RGB → OKLCH mapping:
       Page bg:     rgb(8,9,10)   → oklch(14% 0.003 260)
       Card bg:     rgb(15,16,17) → oklch(17.2% 0.003 260)
       Content:     rgb(18,19,20) → oklch(18.6% 0.003 260)
       Input:       rgb(22,23,24) → oklch(20.4% 0.003 260)
       Divider/btn: rgb(35,37,42) → oklch(26.5% 0.01 265) */
  /* prettier-ignore */ --color-bg-base: oklch(
    14% 0.003 260
  ); /* page bg — rgb(8,9,10) */
  /* prettier-ignore */ --color-bg-surface-0: oklch(
    17.2% 0.003 260
  ); /* cards — rgb(15,16,17) */
  /* prettier-ignore */ --color-bg-surface-1: oklch(
    18.6% 0.003 260
  ); /* content — rgb(18,19,20) */
  /* prettier-ignore */ --color-bg-surface-2: oklch(
    20.4% 0.003 260
  ); /* inputs, elevated — rgb(22,23,24) */
  /* prettier-ignore */ --color-bg-surface-3: oklch(
    26.5% 0.01 265
  ); /* modals, tooltips — rgb(35,37,42) */

  /* Additional dark surface levels (Linear product screenshots) */
  --color-bg-page: oklch(14% 0.003 260); /* Page bg = base — rgb(8,9,10) */
  --color-bg-hover: rgba(
    255,
    255,
    255,
    0.02
  ); /* Row/item hover (Linear uses semi-transparent) */
  --color-bg-elevated: oklch(17.7% 0.003 260); /* Frame bg — rgb(16,17,18) */
  --color-bg-input: oklch(
    20.4% 0.003 260
  ); /* Input backgrounds — rgb(22,23,24) */
  --color-bg-active: oklch(
    20.4% 0.003 260
  ); /* Active/selected items — same as input */
  --color-bg-button: oklch(
    26.5% 0.01 265
  ); /* Button backgrounds — rgb(35,37,42) */

  /* Text hierarchy - inverted for dark mode
     Extracted from Linear.app live (2026-02-15):
       Primary:   lch(100% 0 272)     → oklch ~100% — pure white headings
       Secondary: lch(90.65% 1.35 272) → oklch ~91% — body text, labels (bright!)
       Tertiary:  lch(62.6% 1.35 272)  → oklch ~63% — descriptions, meta
       Quaternary: lch(38.29% 1.35 272) → oklch ~38% — placeholders, disabled
     Key insight: Linear's secondary is MUCH brighter than typical (90% not 65%) */
  --color-text-primary-token: oklch(100% 0 272);
  --color-text-secondary-token: oklch(91% 0.008 272);
  --color-text-tertiary-token: oklch(63% 0.008 272);
  --color-text-quaternary-token: oklch(38% 0.008 272);
  --color-text-disabled-token: oklch(28% 0.006 272);

  /* Logo muted tokens for label logos bar */
  --color-logo-muted: rgba(255, 255, 255, 0.3);
  --color-logo-muted-hover: rgba(255, 255, 255, 0.5);

  /* Border system - extracted from Linear marketing (2026-02-16)
     Subtle:  rgba(255,255,255,0.05) — card borders, dividers
     Default: rgba(255,255,255,0.08) — frame borders, input borders
     Strong:  rgba(255,255,255,0.10) — panel outlines */
  --color-border-subtle: rgba(255, 255, 255, 0.05);
  --color-border-default: rgba(255, 255, 255, 0.08);
  --color-border-strong: rgba(255, 255, 255, 0.1);
  --color-border-focus: oklch(60% 0.12 272);

  /* Accent - slightly brighter in dark mode */
  --color-accent: oklch(65% var(--theme-accent-chroma) var(--theme-accent-hue));
  --color-accent-hover: oklch(
    70% var(--theme-accent-chroma) var(--theme-accent-hue)
  );
  --color-accent-active: oklch(
    60% var(--theme-accent-chroma) var(--theme-accent-hue)
  );
  --color-accent-subtle: oklch(
    20% calc(var(--theme-accent-chroma) * 0.6) var(--theme-accent-hue)
  );

  /* Primary button - inverted for dark mode */
  --color-btn-primary-bg: oklch(100% 0 0);
  --color-btn-primary-fg: oklch(10% 0 0);
  --color-btn-primary-hover: oklch(92% 0 0);

  /* Secondary button */
  --color-btn-secondary-bg: oklch(
    19% var(--theme-base-chroma) var(--theme-base-hue)
  );
  --color-btn-secondary-fg: oklch(90% 0 0);
  --color-btn-secondary-hover: oklch(
    24% var(--theme-base-chroma) var(--theme-base-hue)
  );

  /* Interactive states - white-based (Linear uses semi-transparent overlays) */
  --color-interactive-hover: rgba(255, 255, 255, 0.05);
  --color-interactive-active: rgba(255, 255, 255, 0.08);

  /* Table cell hover — same as surface-2 rgb(22,23,24) */
  --color-cell-hover: #161718;

  /* Shadows - extracted from Linear.app CSS custom properties (2026-02-16)
     --shadow-tiny/low/medium/high hierarchy */
  --shadow-sm: 0px 2px 4px rgba(0, 0, 0, 0.1);
  --shadow-md: 0px 4px 24px rgba(0, 0, 0, 0.2);
  --shadow-lg: 0px 7px 32px rgba(0, 0, 0, 0.35);
  --shadow-xl: 0px 7px 32px rgba(0, 0, 0, 0.5);

  /* Dark mode card shadow — 1px ring via box-shadow + soft depth */
  --shadow-card:
    rgba(0, 0, 0, 0.2) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 2px 4px 0px;
  --shadow-card-elevated:
    rgba(0, 0, 0, 0.2) 0px 0px 12px 0px inset,
    rgba(0, 0, 0, 0.2) 0px 4px 24px 0px;
  --shadow-divider: rgba(255, 255, 255, 0.05) 0px -0.5px 0px 0px inset;
  --shadow-button-inset:
    rgba(0, 0, 0, 0) 0px 8px 2px 0px,
    rgba(0, 0, 0, 0.01) 0px 5px 2px 0px,
    rgba(0, 0, 0, 0.04) 0px 3px 2px 0px,
    rgba(0, 0, 0, 0.07) 0px 1px 1px 0px,
    rgba(0, 0, 0, 0.08) 0px 0px 1px 0px;

  /* Skeleton/loading states */
  --color-skeleton-base: oklch(
    18% var(--theme-base-chroma) var(--theme-base-hue)
  );
  --color-skeleton-shimmer: oklch(
    24% var(--theme-base-chroma) var(--theme-base-hue)
  );
}

/* ============================================
   CONTRAST SCALING SYSTEM
   ============================================

   CSS custom property math for accessibility.
   Higher contrast = more separation between levels.
*/

/* High contrast mode */
@media (prefers-contrast: more) {
  :root {
    --theme-contrast: 90;

    /* Increase text contrast */
    --color-text-primary-token: oklch(5% 0 0);
    --color-text-secondary-token: oklch(
      25% var(--theme-base-chroma) var(--theme-base-hue)
    );

    /* Stronger borders */
    --color-border-subtle: oklch(0% 0 0 / 15%);
    --color-border-default: oklch(0% 0 0 / 25%);
    --color-border-strong: oklch(0% 0 0 / 40%);
  }

  :root.dark {
    --color-text-primary-token: oklch(100% 0 0);
    --color-text-secondary-token: oklch(
      85% var(--theme-base-chroma) var(--theme-base-hue)
    );

    --color-border-subtle: oklch(100% 0 0 / 15%);
    --color-border-default: oklch(100% 0 0 / 25%);
    --color-border-strong: oklch(100% 0 0 / 40%);
  }
}

/* Reduced contrast mode (for eye comfort) */
@media (prefers-contrast: less) {
  :root {
    --theme-contrast: 40;

    /* Softer text contrast */
    --color-text-primary-token: oklch(20% 0 0);
    --color-text-secondary-token: oklch(
      45% var(--theme-base-chroma) var(--theme-base-hue)
    );
  }

  :root.dark {
    --color-text-primary-token: oklch(85% 0 0);
    --color-text-secondary-token: oklch(
      65% var(--theme-base-chroma) var(--theme-base-hue)
    );
  }
}

/* ============================================
   PLATFORM BRAND COLORS (OKLCH)
   ============================================

   Consistent brand colors for streaming platforms
   and other third-party services
*/
:root {
  /* Spotify */
  --color-brand-spotify: oklch(68% 0.21 145);
  --color-brand-spotify-hover: oklch(72% 0.21 145);
  --color-brand-spotify-subtle: oklch(95% 0.05 145);

  /* Apple Music */
  --color-brand-apple: oklch(60% 0.2 10);
  --color-brand-apple-hover: oklch(65% 0.2 10);
  --color-brand-apple-subtle: oklch(95% 0.05 10);

  /* YouTube */
  --color-brand-youtube: oklch(60% 0.22 25);
  --color-brand-youtube-hover: oklch(65% 0.22 25);
  --color-brand-youtube-subtle: oklch(95% 0.05 25);

  /* SoundCloud */
  --color-brand-soundcloud: oklch(65% 0.2 45);
  --color-brand-soundcloud-hover: oklch(70% 0.2 45);
  --color-brand-soundcloud-subtle: oklch(95% 0.05 45);

  /* Tidal */
  --color-brand-tidal: oklch(0% 0 0);
  --color-brand-tidal-hover: oklch(15% 0 0);
  --color-brand-tidal-subtle: oklch(95% 0 0);

  /* Amazon Music */
  --color-brand-amazon: oklch(75% 0.17 70);
  --color-brand-amazon-hover: oklch(70% 0.17 70);
  --color-brand-amazon-subtle: oklch(95% 0.05 70);

  /* Deezer */
  --color-brand-deezer: oklch(78% 0.15 75);
  --color-brand-deezer-hover: oklch(73% 0.15 75);
  --color-brand-deezer-subtle: oklch(95% 0.05 75);

  /* Pandora */
  --color-brand-pandora: oklch(52% 0.2 250);
  --color-brand-pandora-hover: oklch(57% 0.2 250);
  --color-brand-pandora-subtle: oklch(95% 0.05 250);

  /* Audiomack */
  --color-brand-audiomack: oklch(74% 0.17 65);
  --color-brand-audiomack-hover: oklch(69% 0.17 65);
  --color-brand-audiomack-subtle: oklch(95% 0.05 65);
}

:root.dark {
  /* Spotify - slightly brighter in dark mode */
  --color-brand-spotify: oklch(70% 0.21 145);
  --color-brand-spotify-subtle: oklch(20% 0.1 145);

  /* Apple Music */
  --color-brand-apple: oklch(70% 0.2 10);
  --color-brand-apple-subtle: oklch(20% 0.1 10);

  /* YouTube */
  --color-brand-youtube: oklch(70% 0.22 25);
  --color-brand-youtube-subtle: oklch(20% 0.1 25);

  /* SoundCloud */
  --color-brand-soundcloud: oklch(70% 0.2 45);
  --color-brand-soundcloud-subtle: oklch(20% 0.1 45);

  /* Tidal */
  --color-brand-tidal: oklch(90% 0 0);
  --color-brand-tidal-subtle: oklch(20% 0 0);

  /* Amazon Music */
  --color-brand-amazon: oklch(80% 0.17 70);
  --color-brand-amazon-subtle: oklch(20% 0.08 70);

  /* Deezer */
  --color-brand-deezer: oklch(82% 0.15 75);
  --color-brand-deezer-subtle: oklch(20% 0.08 75);

  /* Pandora */
  --color-brand-pandora: oklch(60% 0.2 250);
  --color-brand-pandora-subtle: oklch(20% 0.1 250);

  /* Audiomack */
  --color-brand-audiomack: oklch(78% 0.17 65);
  --color-brand-audiomack-subtle: oklch(20% 0.08 65);
}

/* ============================================
   SEMANTIC STATUS COLORS (OKLCH)
   ============================================ */
:root {
  /* Success */
  --color-success: oklch(65% 0.18 145);
  --color-success-subtle: oklch(95% 0.05 145);
  --color-success-foreground: oklch(100% 0 0);

  /* Warning */
  --color-warning: oklch(75% 0.15 80);
  --color-warning-subtle: oklch(95% 0.05 80);
  --color-warning-foreground: oklch(20% 0 0);

  /* Error/Destructive */
  --color-error: oklch(60% 0.2 25);
  --color-error-subtle: oklch(95% 0.05 25);
  --color-error-foreground: oklch(100% 0 0);

  /* Info */
  --color-info: oklch(60% 0.15 240);
  --color-info-subtle: oklch(95% 0.05 240);
  --color-info-foreground: oklch(100% 0 0);
}

:root.dark {
  /* Success - brighter in dark mode */
  --color-success: oklch(70% 0.18 145);
  --color-success-subtle: oklch(20% 0.08 145);

  /* Warning */
  --color-warning: oklch(80% 0.15 80);
  --color-warning-subtle: oklch(20% 0.08 80);

  /* Error */
  --color-error: oklch(70% 0.2 25);
  --color-error-subtle: oklch(20% 0.08 25);

  /* Info */
  --color-info: oklch(70% 0.15 240);
  --color-info-subtle: oklch(20% 0.08 240);
}

/* ============================================
   FEATURE ACCENT COLORS (OKLCH)
   ============================================

   Perceptually uniform feature colors
   All have ~same perceived brightness
*/
:root {
  --accent-conv: oklch(55% 0.2 285);
  /* Conversion - purple */
  --accent-analytics: oklch(65% 0.15 230);
  /* Analytics - blue */
  --accent-speed: oklch(65% 0.2 145);
  /* Speed - green */
  --accent-beauty: oklch(75% 0.15 70);
  /* Beauty - amber */
  --accent-seo: oklch(60% 0.2 25);
  /* SEO - red */
  --accent-links: oklch(60% 0.2 300);
  /* Links - violet */
  --accent-pro: oklch(65% 0.15 180);
  /* Pro - teal */
}

/* ============================================
   TYPOGRAPHY SYSTEM
   ============================================ */
:root {
  /* Font stack — matches Linear.app exactly (extracted 2026-02-15) */
  --font-sans:
    "Inter Variable", "Inter", "SF Pro Display", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  --font-mono:
    "SF Mono", "Fira Code", "Fira Mono", Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  /* Linear-style font features */
  --font-features: "cv01", "ss03", "rlig" 1, "calt" 1;
  --font-optical-sizing: 28;

  /* Font weights — Linear uses Inter Variable axis with non-standard stops
     400 = normal, 450 = book (sidebar/tabs/issues!), 500 = medium,
     538 = semibold, 590 = bold, 700 = heavy */
  --font-weight-normal: 400;
  --font-weight-book: 450; /* KEY: Linear's default UI weight */
  --font-weight-medium: 500;
  --font-weight-semibold: 538; /* Linear-specific, not standard 600 */
  --font-weight-bold: 590; /* Linear-specific, not standard 700 */
  --font-weight-heavy: 700;

  /* Type scale - based on 16px base
     KEY: Linear uses 13px (0.8125rem) as the primary app UI size */
  --text-2xs: 0.6875rem;
  /* 11px — tiny labels, badges */
  --text-xs: 0.75rem;
  /* 12px */
  --text-app: 0.8125rem;
  /* 13px — LINEAR'S DEFAULT APP UI SIZE (sidebar, issues, tabs) */
  --text-sm: 0.875rem;
  /* 14px */
  --text-base: 1rem;
  /* 16px */
  --text-lg: 1.125rem;
  /* 18px */
  --text-xl: 1.25rem;
  /* 20px */
  --text-2xl: 1.5rem;
  /* 24px */
  --text-3xl: 1.875rem;
  /* 30px */
  --text-4xl: 2.25rem;
  /* 36px */
  --text-5xl: 3rem;
  /* 48px */

  /* Line heights — must match globals.css @theme values (Tailwind v4 source of truth) */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;

  /* Letter spacing — must match globals.css @theme values (Tailwind v4 source of truth) */
  --tracking-tighter: -0.02em;
  --tracking-tight: -0.01em;
  --tracking-normal: 0;
  --tracking-wide: 0.01em;
}

/* ============================================
   SPACING SYSTEM (8px grid)
   ============================================ */
:root {
  --space-0: 0;
  --space-px: 1px;
  --space-0-5: 0.125rem;
  /* 2px */
  --space-1: 0.25rem;
  /* 4px */
  --space-1-5: 0.375rem;
  /* 6px */
  --space-2: 0.5rem;
  /* 8px */
  --space-2-5: 0.625rem;
  /* 10px */
  --space-3: 0.75rem;
  /* 12px */
  --space-4: 1rem;
  /* 16px */
  --space-5: 1.25rem;
  /* 20px */
  --space-6: 1.5rem;
  /* 24px */
  --space-8: 2rem;
  /* 32px */
  --space-10: 2.5rem;
  /* 40px */
  --space-12: 3rem;
  /* 48px */
  --space-16: 4rem;
  /* 64px */
  --space-20: 5rem;
  /* 80px */
  --space-24: 6rem;
  /* 96px */
}

/* ============================================
   RADIUS SYSTEM
   ============================================ */
:root {
  --radius-none: 0;
  --radius-xs: 3px; /* Tags, tiny elements (observed in Linear) */
  --radius-sm: 4px; /* Sidebar items, badges */
  --radius-md: 5px; /* Input fields — Linear uses 5px, not 6px */
  --radius-default: 6px; /* Buttons, dropdowns */
  --radius-lg: 8px; /* Cards, modals */
  --radius-xl: 10px; /* Large cards (observed in Linear) */
  --radius-2xl: 12px; /* Panels, sheets */
  --radius-3xl: 14px; /* Large modals (observed in Linear) */
  --radius-pill: 48px; /* Pill buttons (observed in Linear) */
  --radius-full: 9999px; /* Circles, tags */
}

/* ============================================
   ANIMATION SYSTEM
   ============================================ */
:root {
  /* Durations — Linear uses 0.15s (150ms) as THE standard
     80%+ of their 33 unique transition rules use 150ms */
  --duration-instant: 50ms;
  --duration-fast: 100ms;
  --duration-normal: 150ms; /* THE Linear default */
  --duration-slow: 200ms;
  --duration-slower: 250ms;
  --duration-slowest: 300ms;

  /* Easings - Linear uses cubic-bezier for smooth feel */
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-linear: cubic-bezier(
    0.25,
    0.46,
    0.45,
    0.94
  ); /* Linear's marketing ease */

  /* Pre-composed transition patterns (extracted from Linear)
     Use duration custom properties so prefers-reduced-motion overrides work */
  --transition-colors:
    border var(--duration-normal), background-color var(--duration-normal),
    color var(--duration-normal), opacity var(--duration-normal);
  --transition-bg: background-color var(--duration-normal);
  --transition-opacity: opacity var(--duration-normal);
  --transition-opacity-fast: opacity var(--duration-instant) ease-in-out;
  --transition-fill: fill var(--duration-normal), stroke var(--duration-normal);
  --transition-transform: transform var(--duration-normal);
  --transition-collapse:
    height var(--duration-slow) ease-out,
    min-height var(--duration-slow) ease-out;
  --transition-shadow:
    box-shadow var(--duration-normal), background-color var(--duration-normal);
}

/* Reduced motion — zero out all duration tokens so transition patterns inherit 0ms */
@media (prefers-reduced-motion: reduce) {
  :root {
    --duration-instant: 0ms;
    --duration-fast: 0ms;
    --duration-normal: 0ms;
    --duration-slow: 0ms;
    --duration-slower: 0ms;
    --duration-slowest: 0ms;
  }
}

/* ============================================
   SIDEBAR TOKENS (RGB triplets for alpha)
   ============================================ */
:root {
  /* Sidebar tokens - RGB format for Tailwind opacity modifiers */
  /* Maps to --color-bg-base: #f5f5f5 = rgb(245,245,245) */
  --sidebar-background: 245 245 245; /* Matches base */
  --sidebar-foreground: 12 12 12;
  --sidebar-primary: 12 12 12;
  --sidebar-primary-foreground: 255 255 255;
  --sidebar-accent: 237 237 237; /* Slightly darker neutral for hover */
  --sidebar-accent-foreground: 12 12 12;
  --sidebar-border: 229 229 229; /* Neutral border */
  --sidebar-ring: 124 58 237;
  --sidebar-muted: 115 115 115; /* Neutral muted */
  --sidebar-muted-foreground: 140 140 140; /* Neutral muted text */
  --sidebar-surface: 245 245 245; /* Matches base */
  --sidebar-surface-hover: 237 237 237; /* Neutral hover */
  --sidebar-input-background: 255 255 255;
  --sidebar-input-border: 229 229 229;
  --sidebar-item-foreground: 90 90 95;
  --sidebar-item-icon: 115 115 120;
  --sidebar-accent-active: 230 230 232;
}

:root.dark {
  /* Sidebar tokens - RGB format for Tailwind opacity modifiers */
  /* Matches new bg-base: rgb(8,9,10) extracted from Linear */
  --sidebar-background: 8 9 10; /* rgb(8,9,10) - matches bg-base */
  --sidebar-foreground: 227 228 229; /* Linear: lch(90.421 1 272) = #E3E4E5 */
  --sidebar-primary: 227 228 229;
  --sidebar-primary-foreground: 12 12 12;
  --sidebar-accent: 255 255 255 / 0.08; /* Semi-transparent white for hover (Linear) */
  --sidebar-accent-foreground: 227 228 229;
  --sidebar-border: 255 255 255 / 0.05;
  --sidebar-ring: 109 119 230 / 0.55;
  --sidebar-muted: 161 161 170;
  --sidebar-muted-foreground: 148 150 156;
  --sidebar-surface: 8 9 10; /* Matches bg-base — rgb(8,9,10) */
  --sidebar-surface-hover: 255 255 255 / 0.05; /* Matches Linear interactive-hover */
  --sidebar-input-background: 255 255 255 / 0.05;
  --sidebar-input-border: 255 255 255 / 0.05;
  --sidebar-item-foreground: 148 152 160; /* Muted nav text, brightens on hover */
  --sidebar-item-icon: 120 124 132; /* Dimmer nav icons */
  --sidebar-accent-active: 255 255 255 / 0.05; /* Matches Linear border-subtle */
}

/* ============================================
   MENU/DROPDOWN TOKENS
   ============================================ */
:root {
  --menu-background: 255 255 255;
  --menu-foreground: 12 12 12;
  --menu-border: 229 231 235;
  --menu-shadow: 0 0 0 / 0.1;
  --menu-item-hover: 245 246 248;
  --menu-separator: 229 231 235;
}

:root.dark {
  /* Menu tokens aligned to Linear surface hierarchy (2026-02-16)
     Menu bg = surface-2 (rgb 22,23,24), hover = surface-3 area */
  --menu-background: 22 23 24;
  --menu-foreground: 244 244 245;
  --menu-border: 255 255 255 / 0.08;
  --menu-shadow: 0 0 0 / 0.35;
  --menu-item-hover: 35 37 42;
  --menu-separator: 255 255 255 / 0.05;
}

/* ============================================
   LIQUID GLASS SYSTEM
   ============================================

   Linear-inspired frosted glass effect with:
   - Gaussian blur for depth
   - Subtle gradients for structure
   - Specular highlights
   - Dynamic shadows
*/
:root {
  /* Liquid glass base */
  --liquid-glass-bg: oklch(100% 0 0 / 70%);
  --liquid-glass-bg-solid: oklch(98% 0.005 var(--theme-base-hue));
  --liquid-glass-border: oklch(0% 0 0 / 8%);
  --liquid-glass-shadow:
    0 8px 32px oklch(0% 0 0 / 8%), 0 4px 16px oklch(0% 0 0 / 5%),
    inset 0 1px 0 oklch(100% 0 0 / 50%);
  --liquid-glass-shadow-elevated:
    0 16px 48px oklch(0% 0 0 / 12%), 0 8px 24px oklch(0% 0 0 / 8%),
    inset 0 1px 0 oklch(100% 0 0 / 60%);

  /* Highlight/specular */
  --liquid-glass-highlight: linear-gradient(
    135deg,
    oklch(100% 0 0 / 40%) 0%,
    oklch(100% 0 0 / 10%) 50%,
    oklch(100% 0 0 / 0%) 100%
  );

  /* Item states */
  --liquid-glass-item-hover: oklch(0% 0 0 / 5%);
  --liquid-glass-item-active: oklch(0% 0 0 / 8%);
  --liquid-glass-item-selected: oklch(0% 0 0 / 10%);

  /* Blur values */
  --liquid-glass-blur: 24px;
  --liquid-glass-blur-intense: 40px;
}

:root.dark {
  /* Dark mode liquid glass */
  --liquid-glass-bg: oklch(15% 0.01 var(--theme-base-hue) / 75%);
  --liquid-glass-bg-solid: oklch(18% 0.01 var(--theme-base-hue));
  --liquid-glass-border: oklch(100% 0 0 / 10%);
  --liquid-glass-shadow:
    0 8px 32px oklch(0% 0 0 / 40%), 0 4px 16px oklch(0% 0 0 / 30%),
    inset 0 1px 0 oklch(100% 0 0 / 8%);
  --liquid-glass-shadow-elevated:
    0 16px 48px oklch(0% 0 0 / 50%), 0 8px 24px oklch(0% 0 0 / 40%),
    inset 0 1px 0 oklch(100% 0 0 / 12%);

  /* Highlight/specular - subtler in dark mode */
  --liquid-glass-highlight: linear-gradient(
    135deg,
    oklch(100% 0 0 / 12%) 0%,
    oklch(100% 0 0 / 4%) 50%,
    oklch(100% 0 0 / 0%) 100%
  );

  /* Item states */
  --liquid-glass-item-hover: oklch(100% 0 0 / 6%);
  --liquid-glass-item-active: oklch(100% 0 0 / 10%);
  --liquid-glass-item-selected: oklch(100% 0 0 / 12%);
}

/* ============================================
   MARKETING MODE - Linear Theme Bridge
   ============================================

   Activate Linear styling on marketing pages by adding
   [data-theme="linear"] to a parent element or using
   the .linear-marketing class.

   This maps Linear tokens to the existing design system
   variables for seamless integration.
*/

[data-theme="linear"],
.linear-marketing {
  /* Map Linear text colors to design system */
  --color-text-primary-token: var(--linear-text-primary);
  --color-text-secondary-token: var(--linear-text-secondary);
  --color-text-tertiary-token: var(--linear-text-tertiary);

  /* Map Linear backgrounds to design system */
  --color-bg-base: var(--linear-bg-page);
  --color-bg-surface-0: var(--linear-bg-surface-0);
  --color-bg-surface-1: var(--linear-bg-surface-1);
  --color-bg-surface-2: var(--linear-bg-surface-2);

  /* Map Linear borders to design system */
  --color-border-subtle: var(--linear-border-subtle);
  --color-border-default: var(--linear-border-default);
  --color-border-strong: var(--linear-border-strong);

  /* Map Linear buttons to design system */
  --color-btn-primary-bg: var(--linear-btn-primary-bg);
  --color-btn-primary-fg: var(--linear-btn-primary-fg);
  --color-btn-secondary-bg: var(--linear-btn-secondary-bg);
  --color-btn-secondary-fg: var(--linear-btn-secondary-fg);

  /* Map Linear interactive states */
  --color-interactive-hover: var(--linear-bg-hover);

  /* Map Linear page bg and focus ring */
  --color-bg-page: var(--linear-bg-page);
  --color-border-focus: var(--linear-border-focus);
}
